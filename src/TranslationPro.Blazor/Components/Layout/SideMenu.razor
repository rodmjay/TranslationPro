<Bar Breakpoint="Breakpoint.Desktop" NavigationBreakpoint="Breakpoint.Tablet" ThemeContrast="ThemeContrast.Dark"
     Mode="BarMode.VerticalInline" CollapseMode="BarCollapseMode.Small">
    <BarToggler />
    <BarBrand>
        <BarItem>
            <BarLink To="">
                TranslationPro
            </BarLink>
        </BarItem>
    </BarBrand>
    <BarMenu>
        <BarStart>
            
            @if (CurrentUser is {ApplicationCount: > 0 })
            {
                <BarItem>
                    <BarLink To="/applications">
                        <BarIcon IconName="IconName.Dashboard"/>
                        Dashboard
                    </BarLink>
                </BarItem>
            }

            <BarItem>
                <BarLink To="/subscription">
                    <BarIcon IconName="IconName.Dashboard"/>
                    
                    @if (CurrentUser is {HasSubscription: true })
                    {
                        <span>My Subscription</span>
                    }
                    else
                    {
                        <span>Subscribe</span>
                    }
                    
                </BarLink>
            </BarItem>
            
            @if (CurrentUser is {ApplicationCount: > 0 })
            {
                
                <Divider/>
                <Repeater Items="Applications">

                    <BarItem>
                        <BarLink To=@($"applications/{@context.Id}") Match="Match.Prefix">
                            <BarIcon IconName="IconName.ChevronRight"/>
                            @context.Name
                        </BarLink>
                    </BarItem>

                </Repeater>

            }


        </BarStart>
        
        @if (CurrentUser is {ApplicationCount: > 0 })
        {
            
            <BarEnd>
                <BarItem>
                
                    <BarLink To="/create-application" Match="Match.Prefix">
                        <BarIcon IconName="IconName.Add" />
                        Create Application
                    </BarLink>
                </BarItem>
            </BarEnd>
        
        }

    </BarMenu>
</Bar>
@code {

    
}